<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>אימות פרטים - Flow</title>
    <meta name="description" content="אמת את הפרטים שחולצו מקורות החיים שלך." />
    <link rel="icon" href="about/favicon-96x96.png" sizes="96x96" type="image/png" />
    <link rel="icon" href="about/favicon.svg" type="image/svg+xml" />
    <link rel="icon" href="about/apple-touch-icon.png" type="image/png" sizes="180x180" />
    <link rel="preconnect" href="https://fonts.googleapis.com/" crossorigin="anonymous" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" />
    <link href="https://fonts.googleapis.com/css?family=Google+Sans:400|Google+Symbols|Google+Sans+Text:400&amp;display=swap&amp;lang=en" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="custom-style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
</head>

<body>
    <div class="loader-wrapper hidden">
        <span class="loader-letter">ט</span>
        <span class="loader-letter">ו</span>
        <span class="loader-letter">ע</span>
        <span class="loader-letter">ן</span>
        <span class="loader-letter">.</span>
        <span class="loader-letter">.</span>
        <span class="loader-letter">.</span>
        <div class="loader"></div>
    </div>
    <span class="backdrop_backdrop__yvQg9" data-is-hidden="true"><span class="backdrop_blur__LftOu"></span><span class="backdrop_blur__LftOu"></span><span class="backdrop_blur__LftOu"></span><span class="backdrop_blur__LftOu"></span><span class="backdrop_blur__LftOu"></span>
    <span class="backdrop_blur__LftOu"></span>
    </span>
    <header class="header_container__X86zB">
        <div class="header_logo__AAPGq">
            <a class="header_logoLink__HhzOO typo-flow-caption" aria-label="Home" href="/"><img alt="Flow Logo" loading="eager" width="128" height="43" decoding="async" data-nimg="1" style="color:transparent" src="about/_next/google_logo5b6f.png" /></a>
        </div>
        <div class="header_navContainer__6afui">
             <a href="/" class="button-link_link__eTf8F">חזרה לדף הבית</a>
        </div>
    </header>
    <main class="verify-main">
        <section id="verify-section" class="spacer-text_spacerText__rY6HY">
            <div class="spacer-text_title__GJYuW">
                <h2 class="typo-flow-subtitle font-weight-bold">אימות הפרטים שלך</h2>
            </div>
            <div class="spacer-text_copy__cK_qp" style="margin-bottom: 4rem;">
                <p class="typo-flow-text">הוצאנו את הפרטים האלו מקורות החיים שלך. אנא וודא שהם נכונים ותקן במידת הצורך.</p>
            </div>

            <form id="verify-form" class="verify-form-container">
                <!-- Form fields will be dynamically inserted here -->
                <div class="form-grid">
                    <div class="form-group">
                        <label for="fullName">שם מלא</label>
                        <input type="text" id="fullName" name="fullName" required>
                    </div>
                    <div class="form-group">
                        <label for="email">כתובת אימייל</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">מספר טלפון</label>
                        <input type="tel" id="phone" name="phone">
                    </div>
                    <div class="form-group">
                        <label for="location">אזור מגורים</label>
                         <select id="location" name="location" required>
                            <option value="">בחר אזור / Select a region</option>
                            <option value="north">צפון / North (צפונית לחדרה / north of Hadera)</option>
                            <option value="center">מרכז / Central (הרצליה עד ראשון לציון / Herzliya to Rishon Lezion)</option>
                            <option value="lowlands">שפלה / Lowlands (ראשון לציון עד אשקלון / Rishon Lezion to Ashkelon)</option>
                            <option value="south">דרום / South (דרומית לאשקלון / south of Ashkelon)</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                     <button type="submit" class="button-link_link__eTf8F">שמור והמשך</button>
                </div>
            </form>
        </section>
    </main>
    <footer class="footer_footer__FiYd5">
        <div class="footer_contentContainer__MjiW5">
            <p class="footer_copyright__Y_F8_">© כל הזכויות שמורות לחברת CvGo</p>
            <div class="footer_linksSection__Op_1g">
                <a href="privacy-policy.html" class="footer_link__Tlx14">מדיניות הפרטיות</a>
                <a href="terms-of-use.html" class="footer_link__Tlx14">מדיניות השימוש</a>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const cvDataString = sessionStorage.getItem('cvData');
            if (!cvDataString) {
                console.error('No CV data found in sessionStorage.');
                // Optionally, redirect back to the home page or show an error
                // window.location.href = '/';
                return;
            }

            try {
                const cvData = JSON.parse(cvDataString);
                const data = cvData.data || cvData; // Handle nested data structure

                const fullNameInput = document.getElementById('fullName');
                const emailInput = document.getElementById('email');
                const phoneInput = document.getElementById('phone');
                const locationSelect = document.getElementById('location');

                if (data.name && fullNameInput) {
                    fullNameInput.value = data.name.trim();
                }
                if (data.email && emailInput) {
                    emailInput.value = data.email.trim();
                }
                if (data.phone && phoneInput) {
                    phoneInput.value = data.phone.trim();
                }
                // We don't have location data from the CV parser, so we leave it for the user to select.

            } catch (error) {
                console.error('Failed to parse CV data from sessionStorage:', error);
            }
        });
    </script>
</body>

</html>
